---
title: ã€Šæ ‘èŽ“æ´¾å®¶åº­æœåŠ¡å™¨æ­å»ºæŒ‡å—ã€‹ç¬¬åä¸ƒæœŸï¼šæ ‘èŽ“æ´¾é…åˆæ€§èƒ½æ›´å¥½çš„é—²ç½®ç¬”è®°æœ¬æ­å»ºå¼€æºå…è´¹jellyfinç§äººå½±é™¢  / Raspberry Pi Home Server Building Guide Issue 17 Raspberry Pi combined with a better performing idle laptop to build an open-source free jellyfin private cinema
categories:
- æ ‘èŽ“æ´¾ä¸åƒç° / Use Pi
---

Jellyfinæ˜¯ä¸€æ¬¾å¼€æºå…è´¹çš„ç§äººå½±é™¢ï¼ˆå½±éŸ³åª’ä½“ç®¡ç†ï¼‰ç³»ç»Ÿï¼Œå¯ä»¥å¸®æˆ‘ä»¬æŠŠç¡¬ç›˜é‡Œçš„å½±è§†èµ„æºç®¡ç†èµ·æ¥ï¼Œå¹¶æ·»åŠ ç²¾ç¾Žçš„æµ·æŠ¥.

ðŸŒˆJellyfin is an open-source free private cinema (audio and video media management) system that can help us manage the video resources on our hard drives and add exquisite posters.

Jellyfinå¯ä»¥è®°å½•æˆ‘ä»¬æ’­æ”¾çš„è¿›åº¦ï¼Œä¸€éƒ¨ç”µå½±åœ¨Aè®¾å¤‡æ’­æ”¾åˆ°10åˆ†20ç§’ï¼Œåˆ°äº†Bè®¾å¤‡å¯ä»¥ç»§ç»­10åˆ†20ç§’æ’­æ”¾ã€‚

ðŸŒˆJellyfin can keep track of our playback progress. If a movie is played to 10 minutes and 20 seconds on Device A, it can continue playing from the same point on Device B.

Jellyfinæœ‰å®Œæ•´çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼Œå®¶åº­æˆå‘˜å¯ä»¥æ‹¥æœ‰ç‹¬ç«‹çš„è´¦å·ï¼Œæ’­æ”¾è¿›åº¦äº’ä¸å½±å“ã€‚

ðŸŒˆJellyfin has a complete user management system. Family members can have independent accounts, and the playback progress does not affect each other.

Jellyfinæ”¯æŒå®¢æˆ·ç«¯æ’­æ”¾ï¼Œä¹Ÿæ”¯æŒç½‘é¡µæ’­æ”¾ï¼Œæ‰“å¼€ç½‘é¡µå°±èƒ½ç®¡ç†å’Œæ’­æ”¾æˆ‘ä»¬æ”¶è—çš„ç”µå½±å’Œç”µè§†å‰§èµ„æºã€‚

ðŸŒˆJellyfin supports client playback and web playback. By opening the web page, we can manage and play our collected movie and TV show resources.

Jellyfinå¯ä»¥è‡ªç”±è½¬æ¢æ ¼å¼ï¼Œè‡ªåŠ¨å°†mkvç­‰é«˜ç çŽ‡æ ¼å¼èµ„æºè½¬æ¢ä¸ºä¾¿äºŽç½‘ç»œä¼ è¾“çš„æ ¼å¼ï¼Œä¾›æµè§ˆå™¨æ’­æ”¾ã€‚å¯ä»¥å°†æˆ‘ä»¬é«˜ç çŽ‡çš„4Kç”µå½±è½¬æ¢ä¸º720pç”šè‡³360pçš„ç”µå½±ï¼Œé€šè¿‡å†…ç½‘ç©¿é€ä¼ è¾“ç»™èº«åœ¨å®¶åº­ç½‘ç»œå¤–çš„å®¶åº­æˆå‘˜æ’­æ”¾ã€‚å¦‚æžœå®¶ä¸­çš„ç”µè§†ç›’å­æ€§èƒ½ä¸è¶³ä»¥æ’­æ”¾4KåŽŸç‰‡ï¼ŒJellyfinå¯ä»¥å°†èµ„æºå®žæ—¶è½¬æ¢ä¸º2Kæˆ–1080Pçš„æµåª’ä½“ï¼Œä¾›ç”µè§†ç›’å­æ’­æ”¾ã€‚

ðŸŒˆJellyfin can freely convert formats, automatically converting resources in high bitrate formats like mkv into formats that are easy to transmit over the network for browser playback. It can convert our high bitrate 4K movies into 720p or even 360p movies and transmit them to family members outside the home network through intranet penetration. If the TV box at home is not powerful enough to play 4K originals, Jellyfin can convert the resources into 2K or 1080P streaming media in real time for the TV box to play.


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388246080mDPR12E1.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388272416NjcfMTXC.png)



æœ¬æ–‡æ˜¯ã€Šæ ‘èŽ“æ´¾ä¸åƒç°ã€‹ç³»åˆ—çš„ç¬¬17æœŸï¼Œæ ‘èŽ“æ´¾4Bçš„æ€§èƒ½ä¸è¶³ä»¥æ”¯æŒJellyfinå¯¹1080Pçš„è§†é¢‘è¿›è¡Œå®žæ—¶è½¬ç ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šæŠŠæ ‘èŽ“æ´¾ä½œä¸ºä¸€ä¸ªç½‘å…³ä½¿ç”¨ï¼Œè®©å®¶åº­ä¸­è€æ—§çš„ç”µè„‘è¿è¡Œjellyfinæ ¸å¿ƒæœåŠ¡ï¼Œè€Œæ ‘èŽ“æ´¾åˆ™å°†jellyfinæœåŠ¡åå‘ä»£ç†åˆ°å®¶åº­ç½‘ç»œå’Œå…¬ç½‘ã€‚

ðŸŒˆThis is the 17th issue of the "Pi in Use" series. The performance of the Raspberry Pi 4B is not enough to support Jellyfin's real-time transcoding of 1080P videos, so we will use the Raspberry Pi as a gateway, letting the old computers in the family run the core service of Jellyfin, and the Raspberry Pi will reverse proxy the Jellyfin service to the home network and the public network.


## å®‰è£…Jellyfin Serverç«¯ / Installing Jellyfin Server

æˆ‘å®¶é‡Œæ°å¥½æœ‰ä¸€å°ä¸å¸¸ç”¨çš„MacBookç¬”è®°æœ¬ï¼Œæœ¬æ–‡åˆ™ä»¥macOSå¹³å°ä¸ºä¾‹ï¼ˆWindowså¹³å°é…ç½®ä¼šæ›´ç®€å•ï¼‰ï¼Œå°†MacBookä½œä¸ºjellyfinè¿è¡ŒæœåŠ¡çš„æœºå™¨ã€‚

ðŸŒˆI happen to have a MacBook laptop that is not often used at home. This article takes the macOS platform as an example (the configuration on the Windows platform will be simpler), and uses the MacBook as the machine running the Jellyfin service.

Jellyfin Serverä¸‹è½½åœ°å€ï¼šhttps://jellyfin.org/downloads/server

ðŸŒˆJellyfin Server download link: https://jellyfin.org/downloads/server

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388274113QHenD45m.png)

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388290882bJrw1bPE.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/16863882974314ZixzF5r.png)

- å®‰è£…æˆåŠŸåŽï¼Œç‚¹å‡»Jellyfinå›¾æ ‡å¯åŠ¨

- ðŸŒˆAfter the installation is successful, click the Jellyfin icon to start.

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388297874PS3D7fQN.png)

- å¯åŠ¨æˆåŠŸåŽï¼Œé¡¶éƒ¨å‡ºçŽ°Jellyfin Serverå›¾æ ‡

- ðŸŒˆAfter the successful start, the Jellyfin Server icon appears at the top.

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388301527tnY0W3KG.png)

- ä¸ºäº†ä¿è¯Jellyfin Serverèƒ½åœ¨æ¯æ¬¡å¼€æœºåŽè‡ªåŠ¨å¯åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†Jellyfin Server åŠ å…¥åˆ°å¼€æœºå¯åŠ¨é¡¹ä¸­

- ðŸŒˆIn order to ensure that Jellyfin Server can start automatically every time the computer is turned on, we can add Jellyfin Server to the startup items.

![image.png](https://cdn.fangyuanxiaozhan.com/assets/16863883112575XSEfcDM.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388312442HtzHMpEh.png)


## é€šè¿‡è·¯ç”±å™¨ä¸ºç¬”è®°æœ¬æŒ‡å®šå›ºå®šIP / Assign a Fixed IP to the Laptop via Router



![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388316007r7QGkHXA.png)

ç„¶åŽæˆ‘ä»¬å¯ä»¥åœ¨å±€åŸŸç½‘ä»»æ„ä¸€å°è®¾å¤‡ï¼Œé€šè¿‡å›ºå®šipåŠ ç«¯å£è®¿é—®jellyfinäº†ï¼Œ æ¯”å¦‚åˆšåˆšä¸Žç¬”è®°æœ¬å›ºå®šçš„IPä¸º192.168.50.74ï¼Œ ä¹‹åŽåœ¨å±€åŸŸç½‘ä»»æ„ä¸€å°è®¾å¤‡é€šè¿‡æµè§ˆå™¨è®¿é—® 192.168.50.74:8096 å³å¯


ðŸŒˆThen we can access Jellyfin on any device in the LAN through a fixed IP and port. For example, the IP just fixed with the notebook is 192.168.50.74, then any device in the LAN can access 192.168.50.74:8096 through a browser.

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388321277FDP0QZke.png)


å¦‚æžœæ„Ÿè§‰192.168.50.74 ä¸å¥½è®°ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¥½è®°çš„æ ‘èŽ“æ´¾å±€åŸŸç½‘IP 192.169.50.10:8096ä»£ç†192.168.50.74:8096 , è¿™æ ·æ ‘èŽ“æ´¾å°±æˆä¸ºäº†æ•´ä¸ªå®¶åº­ç½‘ç»œçš„ç½‘å…³ï¼Œæ ‘èŽ“æ´¾çš„çš„frpcä¹Ÿå¯ä»¥å°†8096ç«¯å£çš„jellyfinæœåŠ¡æ˜ å°„åˆ°å…¬ç½‘

ðŸŒˆIf you feel that 192.168.50.74 is hard to remember, we can use the easy-to-remember Raspberry Pi LAN IP 192.169.50.10:8096 to proxy 192.168.50.74:8096. In this way, the Raspberry Pi becomes the gateway of the entire home network. The frpc of the Raspberry Pi can also map the Jellyfin service of port 8096 to the public network.


## ç™»å½•æ ‘èŽ“æ´¾ / Log in to Raspberry Pi


åœ¨æ ‘èŽ“æ´¾ï¼ˆIP: 192.168.50.10ï¼‰çš„Nginxå†…æ·»åŠ é…ç½®ï¼Œå°† 192.169.50.10:8096 çš„è¯·æ±‚è½¬å‘åˆ° 192.168.50.74:8096

ðŸŒˆAdd configuration in the Nginx of the Raspberry Pi (IP: 192.168.50.10) to forward the request of 192.169.50.10:8096 to 192.168.50.74:8096


```
sudo bash -c 'cat > /etc/nginx/conf.d/192.168.50.74-8096.conf' <<-'EOF'
server {
    listen 8096;
    server_name 192.168.50.10;
    
    location / {
        proxy_pass http://192.168.50.74:8096;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
EOF
```

æµ‹è¯•é…ç½®æ–‡ä»¶ï¼Œé‡å¯Nginx

ðŸŒˆTest the configuration file, restart Nginx


```
sudo nginx -t
sudo nginx -s reload
```

ç„¶åŽé€šè¿‡æµè§ˆå™¨æ‰“å¼€ `192.168.50.10:8096` å³å¯

ðŸŒˆThen open `192.168.50.10:8096` through the browser

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388327184ZPxHE66n.png)

- é€‰æ‹©è¯­è¨€

- ðŸŒˆChoose language

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388331383hGRKXtCW.png)


- è®¾ç½®ç”¨æˆ·åå¯†ç 

- ðŸŒˆSet username and password


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388335723Jmb5m8Wz.png)


- åˆ°è¾¾é€‰æ‹©åª’ä½“åº“é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä¸é€‰æ‹©ï¼Œä¸‹ä¸€æ­¥

- ðŸŒˆArrive at the media library selection page, we can choose not to select for now, next step


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388336474fcGrjfez.png)

- ä¸‹ä¸€æ­¥

- ðŸŒˆNext step

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388338648823MH4By.png)

- ä¸‹ä¸€æ­¥

- ðŸŒˆNext step

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388340847AMSF14XS.png)

- å®Œæˆè®¾ç½®

- ðŸŒˆComplete the setup

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388342515DyYwBT2R.png)

- ç„¶åŽè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç è¿›è¡Œç™»å½•

- ðŸŒˆThen it automatically jumps to the login page, enter the username and password to log in

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388344079XjE1BHse.png)

- ç™»å½•æˆåŠŸ

- ðŸŒˆLogin successful

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388346012mfKRHDeC.png)

- ç™»å½•æˆåŠŸåŽï¼Œç•Œé¢æ˜¾ç¤ºçš„è¯­è¨€ä¾ç„¶æ˜¯è‹±è¯­ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜ä¸ºä¸­æ–‡

- ðŸŒˆAfter logging in successfully, the language displayed on the interface is still English, we can change it to Chinese

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388346646y4Zn5yYG.png)

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388347926PG7sP0xy.png)

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388349250d5hdynNC.png)

- é€‰æ‹©è¯­è¨€

- ðŸŒˆChoose language

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388351537KdGBDWCJ.png)

- ä¿å­˜

- ðŸŒˆSave

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388357401jFjm8pQT.png)

- ä¿å­˜æˆåŠŸåŽï¼Œåˆ·æ–°é¡µé¢å³å¯

- ðŸŒˆAfter saving successfully, refresh the page


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388361776XRsmiywY.png)


- åˆ›å»ºMoviesæ–‡ä»¶å¤¹ä½œä¸ºèµ„æ–™åº“

- ðŸŒˆCreate the Movies folder as a library

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388365351W0WFCxs5.png)

è¿™é‡ŒæŒ‰ç…§jellyfinçš„å®˜æ–¹æ–‡æ¡£ï¼Œç”¨imdbçš„idå‘½åç”µå½±æ–‡ä»¶åŠå…¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹

ðŸŒˆHere, according to the official jellyfin document, name the movie file and its folder with the id of imdb

```
/Users/zhaoolee/jellfin/Movies/12 Angry Men (1957) [imdbid-tt0050083]/12 Angry Men (1957) [imdbid-tt0050083] - 1080p.mp4
```
ä»Žimdbç½‘é¡µç½‘å€ä¸­èŽ·å–å¯¹åº”ç”µå½±çš„id

ðŸŒˆGet the id of the corresponding movie from the imdb webpage url


![](https://cdn.fangyuanxiaozhan.com/assets/1686388416478eHSFGRsy.png)

jellyfinè¦ä¾èµ–ç¬¦åˆè§„èŒƒçš„æ–‡ä»¶å‘½åï¼Œå¯¹ç”µå½±æµ·æŠ¥è¿›è¡ŒæŠ“å–ï¼Œå½¢æˆä»¤äººèˆ’é€‚çš„æµ·æŠ¥å¢™ï¼Œå…³äºŽæ–‡ä»¶å‘½åçš„å®˜æ–¹æ–‡æ¡£ï¼šhttps://jellyfin.org/docs/general/server/media/movies


ðŸŒˆJellyfin relies on standard file naming to grab movie posters and form a comfortable poster wall. For the official document about file naming: https://jellyfin.org/docs/general/server/media/movies

å›žåˆ°æŽ§åˆ¶å°

ðŸŒˆReturn to the console

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388417375dxdGn1Fw.png)

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388418827HsJwF6hb.png)

è¿›å…¥åª’ä½“åº“ï¼Œæ·»åŠ Moviesæ–‡ä»¶å¤¹åˆ°åª’ä½“åº“

ðŸŒˆEnter the media library, add the Movies folder to the media library

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388420124QDktYQXb.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/16863884220735C4p38iJ.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388425783QF85BDBK.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/168638843658067SBpmdy.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388439452KDKNfSfk.png)

ç­‰å¾…æ‰«æ

ðŸŒˆWait for scanning

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388441330DMRBt8a3.png)


å¦‚æžœæ‰«ææœŸé—´ï¼Œè¿›åº¦è¿Ÿè¿Ÿä¸åŠ¨ï¼Œå¯ä»¥åˆ·æ–°é¡µé¢è¯•è¯•

ðŸŒˆIf the progress is not moving during the scanning, you can try refreshing the page

![image.png](https://cdn.fangyuanxiaozhan.com/assets/168638844397371yrJHRY.png)

å¦‚æžœåˆ·æ–°é¡µé¢åŽï¼Œæ‰«æè¿›åº¦åœ†çŽ¯æ¶ˆå¤±ï¼Œåˆ™å¯ä»¥ç‚¹å‡»å·¦ä¸Šè§’Homeå›¾æ ‡ï¼Œå›žåˆ°ä¸»é¡µ

ðŸŒˆIf the scanning progress ring disappears after refreshing the page, you can click the Home icon in the upper left corner to return to the home page

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388445303t1iy2F2M.png)

æµ·æŠ¥å¢™å‡ºçŽ°

ðŸŒˆThe poster wall appears

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388458672KTChkEcF.png)

ç‚¹å‡»æµ·æŠ¥å¢™ä¸­çš„å›¾ç‰‡ï¼Œå¯ä»¥çœ‹åˆ°ç”µå½±æ¼”èŒäººå‘˜ç­‰è¯¦æƒ…


ðŸŒˆClick on the picture in the poster wall, you can see details such as the cast and crew of the movie

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388474707ZtAnee6e.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388500794AX0KHFD2.png)


- ç‚¹å‡»å°é¢å’Œæ’­æ”¾å›¾æ ‡éƒ½å¯ä»¥ç›´æŽ¥æ’­æ”¾

- ðŸŒˆClick on the cover and play icon to play directly

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388530811TAjRz1EZ.png)

- é¡ºåˆ©æ’­æ”¾

- ðŸŒˆPlay smoothly

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388558742EjWpPeZz.png)


## æ”¯æŒæŒ‰éœ€åˆ‡æ¢ç çŽ‡ / Support to switch bitrate as needed

æˆ‘ä»¬åœ¨æœåŠ¡ç«¯å­˜æ”¾çš„æ˜¯1080p æˆ– 4Kè§†é¢‘ï¼Œå¦‚æžœæˆ‘ä»¬æƒ³è¦åœ¨å¤–ç½‘è®¿é—®ï¼ŒèŠ‚çœæµé‡ï¼Œå°±éœ€è¦æ’­æ”¾720pè§†é¢‘ï¼Œjellyfinåœ¨æœåŠ¡ç«¯é…ç½®ffmpegåŽï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ç›´æŽ¥å¯¹è§†é¢‘è¿›è¡Œè½¬æ¢ï¼Œä½†å®žæ—¶è§†é¢‘ç çŽ‡è½¬æ¢å¯¹CPUè´Ÿè½½å¾ˆé«˜ï¼Œåœ¨jellyfinæœåŠ¡ç«¯é…ç½®ç¡¬ä»¶è§£ç åŽï¼Œå°±å¯ä»¥é™ä½ŽCPUè´Ÿè½½


ðŸŒˆWe store 1080p or 4K videos on the server side. If we want to access from the external network and save traffic, we need to play 720p videos. After jellyfin configures ffmpeg on the server side, it can directly convert videos on the server. But real-time video bitrate conversion puts a high load on the CPU. After configuring hardware decoding on the jellyfin server side, it can reduce the CPU load.

ffmpegé™¤äº†è½¬æ¢ç çŽ‡è¿˜èƒ½è½¬æ¢æ ¼å¼ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸‹è½½äº†mkvæ ¼å¼çš„ç”µå½±ï¼Œæ™®é€šçš„æµè§ˆå™¨æ— æ³•ç›´æŽ¥æ’­æ”¾mkv, ffmpegå°±å¯ä»¥å®žæ—¶å°†å…¶è½¬æ¢ä¸ºmp4ï¼Œå¹¶ä»¥ä½Žç çŽ‡æŽ¨é€ç»™æµè§ˆå™¨ï¼Œè¿™æ ·åªéœ€æµè§ˆå™¨å°±èƒ½ä½“éªŒffmpegç§äººå½±è§†åº“çš„è§‚å½±æœåŠ¡

ðŸŒˆIn addition to converting bitrates, ffmpeg can also convert formats. For example, if we download a movie in mkv format, a regular browser cannot directly play mkv. ffmpeg can convert it to mp4 in real time and push it to the browser at a low bitrate. In this way, you only need a browser to experience the viewing service of the ffmpeg private movie library.

- å®‰è£… ffmpeg

- ðŸŒˆInstall ffmpeg

```
brew install ffmpeg
which ffmpeg
```
![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388559168z3Np5jzQ.png)

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388561167nSH6xRbS.png)
![image.png](https://upload-images.jianshu.io/upload_images/3203841-b107a20d67fbea55.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388566447wT6PJisS.png)
![image.png](https://upload-images.jianshu.io/upload_images/3203841-bbd8a292ba9933a1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



- æŸ¥çœ‹GPUç¡¬ä»¶ï¼Œå¼€å¯ç¡¬ä»¶è½¬ç åŠ é€Ÿ

- ðŸŒˆCheck GPU hardware, turn on hardware transcoding acceleration

![image.png](https://cdn.fangyuanxiaozhan.com/assets/16863885824070xnkhrZs.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/16863885901940ZWBpCkk.png)

è¿™é‡Œç¡¬ä»¶åŠ é€Ÿæœ‰ä¸ªApple VideoToolBoxçš„é€‰é¡¹ï¼Œä½†è½¬æ¢åˆ°360pä½Žç çŽ‡æ—¶æœ‰å¯¼è‡´æ— æ³•æ’­æ”¾çš„bug, æ‰€ä»¥æœ€åŽæˆ‘é€‰æ‹©äº†AMD AMF

ðŸŒˆHere, there is an option for hardware acceleration called Apple VideoToolBox, but when converting to 360p low bitrate, there is a bug that causes it to be unplayable, so in the end, I chose AMD AMF


é…ç½®ç¡¬ä»¶åŠ é€ŸåŽè®°å¾—ä¿å­˜

ðŸŒˆRemember to save after configuring hardware acceleration

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388598362H4rS4y1z.png)

æ›´å¤šç¡¬ä»¶è§£ç é…ç½®å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ https://jellyfin.org/docs/general/administration/hardware-acceleration/

ðŸŒˆFor more hardware decoding configurations, you can refer to the official documentation https://jellyfin.org/docs/general/administration/hardware-acceleration/


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388602333Qfzf5K8Z.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388619586xNdK2AQ5.png)

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388623694mr4BMQkd.png)

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388630853TZwjMMdr.png)


è®¾ç½®å®ŒæˆåŽï¼Œå¯ä»¥åœ¨éœ€è¦èŠ‚çœæµé‡ï¼ˆæ‰‹æœºç½‘ç»œï¼‰æˆ–è§£ç èƒ½åŠ›å¼±ï¼ˆè€å¼ç”µè§†ç›’å­ï¼‰çš„è®¾å¤‡ä¸Šæ’­æ”¾ä½Žç çŽ‡è§†é¢‘

ðŸŒˆOnce the setup is complete, you can play low bit rate videos on devices where you need to save data (mobile networks) or have weak decoding capabilities (old TV boxes).

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388648145ZZFXWhR7.png)



## æ·»åŠ ç”µè§†å‰§Showsåˆ°æˆ‘ä»¬çš„çš„åª’ä½“ç®¡ç†åº“ / Adding TV Shows to Our Media Library




ä»¥è‹±å‰§Peaky Blinders ä¸ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦å°†tmdbçš„idæ·»åŠ åˆ°ç”µè§†å‰§çš„ä¸»æ–‡ä»¶å¤¹ä¸­

ðŸŒˆTaking the British drama Peaky Blinders as an example, we need to add the tmdb id to the main folder of the TV show.

https://www.themoviedb.org/tv/60574-peaky-blinders

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388659245rCsnG0xi.png)


![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388663820BdHbBjXW.png)

å±•ç¤ºæ•ˆæžœ

ðŸŒˆDisplay Effect

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388698527Awr7PH5i.png)

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388712594T1Sa0Nmw.png)


ç”µè§†å‰§Showså‘½åè§„åˆ™å®˜æ–¹æ–‡æ¡£: https://jellyfin.org/docs/general/server/media/shows

ðŸŒˆOfficial documentation for TV Shows naming rules: https://jellyfin.org/docs/general/server/media/shows


## å°†jellyfinæ˜ å°„åˆ°å…¬ç½‘ / Mapping jellyfin to the Public Network


æ ‘èŽ“æ´¾ä½œä¸ºå®¶åº­ç½‘å…³ï¼Œå·²ç»é…ç½®äº†frpc, æˆ‘ä»¬åªéœ€åœ¨frpc.iniæ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œå¹¶åœ¨äº‘æœåŠ¡å™¨å¼€æ”¾8096å³å¯å°†jellyfinå¼€æ”¾åˆ°å…¬ç½‘

ðŸŒˆThe Raspberry Pi serves as a home gateway and has already been configured with frpc. We just need to add the following configuration to frpc.ini and open port 8096 on the cloud server to expose jellyfin to the public network.


```
[jellyfin-frp-v2fy-com-8096]
type = tcp
local_ip = 127.0.0.1
local_port = 8096
remote_port = 8096
```
å¦‚æžœå¯¹frpçš„é…ç½®æœ‰ç–‘é—®ï¼Œæ¬¢è¿ŽæŸ¥çœ‹https://github.com/zhaoolee/pi å¼€æºçš„ç¬¬ä¸€æœŸå’Œç¬¬å››æœŸæ–‡ç« ã€‚

ðŸŒˆIf you have any questions about the configuration of frp, feel free to check out the first and fourth articles of the open-source project at https://github.com/zhaoolee/pi 

- é…ç½®å®ŒæˆåŽï¼Œä½ å¯ä»¥åœ¨å…¬ç½‘ï¼Œé€šè¿‡æµè§ˆå™¨ç›´æŽ¥è®¿é—®ç§äººå½±é™¢çš„å½±è§†åº“äº†ï¼

ðŸŒˆAfter the configuration is completed, you can directly access the film and television library of the private cinema through the browser on the public network!

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686388735452RiZKbZFR.png)





## æ·»åŠ éŸ³ä¹ / Adding Music




æ‰¾åˆ°ä¸€ä¸ªå¿«é€ŸèŽ·å–éŸ³ä¹ä¸“è¾‘çš„æ–¹æ³•ï¼Œåˆ†äº«ä¸€æ³¢ã€‚

ðŸŒˆFound a quick way to get music albums, sharing it here.

## é¦–å…ˆå®‰è£… Python3 / First, Install Python3

ä»ŽPython å®˜ç½‘ä¸‹è½½å¯¹åº”å¹³å°çš„å®‰è£…åŒ…ï¼Œå³å¯ https://www.python.org/downloads/

ðŸŒˆYou can download the installation package for the corresponding platform from the Python official website: https://www.python.org/downloads/

## é€šè¿‡å‘½ä»¤è¡Œå®‰è£…å¼€æºè½¯ä»¶spotdl / Install Open Source Software spotdl Through the Command Line


```
pip3 install spotdl
```

å¼€æºåœ°å€: https://github.com/spotDL/spotify-downloader

ðŸŒˆOpen source address: https://github.com/spotDL/spotify-downloader


## æ‰“å¼€Spotify , èŽ·å–ä¸“è¾‘é“¾æŽ¥ / Open Spotify, Get Album Link

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686747239440eMYycYs8.png)

- é­”æ°åº§é“¾æŽ¥ä¸º  

- ðŸŒˆThe link for Magic Throne is

```
https://open.spotify.com/album/6pmapc89HjY4f16ARzrmBB?si=aba55578f5c84463
```


- ç›´æŽ¥é€šè¿‡å‘½ä»¤è¡Œä¸‹è½½

- ðŸŒˆDownload directly through the command line

```
spotdl https://open.spotify.com/album/6pmapc89HjY4f16ARzrmBB?si=aba55578f5c84463
```
- ç­‰å¾…ä¸‹è½½
- ðŸŒˆwait for the download

![image.png](https://cdn.fangyuanxiaozhan.com/assets/16867472315862N5sXn51.png)

ä¸‹è½½å®Œæˆ

- ðŸŒˆDownload Complated!

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686747226813H8QB6ArT.png)
![image-20230614210420970](https://cdn.fangyuanxiaozhan.com/assets/1686747861671s5B01A0s.png)

```
æ‘©ç¾¯åº§ spotdl https://open.spotify.com/album/6pmapc89HjY4f16ARzrmBB\?si\=aba55578f5c84463
Processing query: https://open.spotify.com/album/6pmapc89HjY4f16ARzrmBB?si=aba55578f5c84463
Found 11 songs in é­”æ°åº§ (Album)
Downloaded "Jay Chou - çµ¦æˆ‘ä¸€é¦–æ­Œçš„æ™‚é–“": https://music.youtube.com/watch?v=GMLiH4ndCZY
Downloaded "Jay Chou - è›‡ èˆž": https://music.youtube.com/watch?v=uR4KxQkch_o
Downloaded "Jay Chou - èŠ± æµ·": https://music.youtube.com/watch?v=ECE0rE7FksU
Downloaded "Jay Chou - é¾æˆ°é¨Žå£«": https://music.youtube.com/watch?v=-csxVbQGnUc
Downloaded "Jay Chou - èªªå¥½çš„å¹¸ç¦å‘¢": https://music.youtube.com/watch?v=vpBYwcf1p9I
Downloaded "Jay Chou - é­”è¡“å…ˆç”Ÿ": https://music.youtube.com/watch?v=t1f_Tef3lno
Downloaded "Jay Chou - è˜­äº­åº": https://music.youtube.com/watch?v=wpJkdFYBtIY
Downloaded "Jay Chou - æµæµªè©©äºº": https://music.youtube.com/watch?v=QXT3MakudVQ
Downloaded "Jay Chou - æ™‚å…‰æ©Ÿ": https://music.youtube.com/watch?v=X7EMTrOxY6k
Downloaded "Jay Chou - å–¬å…‹å”å”": https://music.youtube.com/watch?v=G7N5B0zbHOA
Downloaded "Jay Chou - ç¨»é¦™": https://music.youtube.com/watch?v=l6a5D6yxqEU
```

è½¯ä»¶çš„åŽŸç†æ˜¯ä»Ž youtube çš„éŸ³ä¹é¢‘é“èŽ·å–Spotify çš„åŒåæ­Œæ›²ï¼Œç„¶åŽè¿›è¡Œä¸‹è½½ï¼Œä½¿ç”¨spotdléœ€è¦è®¡ç®—æœºå¯è®¿é—® youtubeï¼Œ å¦‚æžœæ— æ³•è®¿é—®youtube ï¼Œ å¯ä»¥ç­¾åˆ°ç™½å«–æµé‡ https://v2fy.com/p/109-glados-2021-06-09/ æˆ–è€…æžå°é˜¿é‡Œäº‘è‡ªå·±æ­å»º  https://v2fy.com/p/2023-03-01-v2ray-1677654246000/ 

the principle of the software is to obtain the same name song from the Youtube music channel as Spotify , and the then download it, To use spotdl, the computer needs to be able to access Youtube, you can sign in to get free traffic  https://v2fy.com/p/109-glados-2021-06-09/ or set up your own Alibaba Cloud https://v2fy.com/p/2023-03-01-v2ray-1677654246000/

![image.png](https://cdn.fangyuanxiaozhan.com/assets/1686747215594rDybPBsQ.png)



## å°†é­”æ°åº§æ–‡ä»¶å¤¹æ”¾å…¥ Jay Chouæ–‡ä»¶å¤¹å³å¯ / Just Put the Magic Throne Folder into the Jay Chou Folder



![image-20230614203936694](https://cdn.fangyuanxiaozhan.com/assets/1686746378502dcw5ZRnK.png)





## ç”¨Jellyfin ç®¡ç†èµ·æ¥çš„æ•ˆæžœ / The Effect of Managing with Jellyfin

![image.png](https://cdn.fangyuanxiaozhan.com/assets/16867472063132d8PtAMX.png)




## å°ç»“ / Summmary


ç›®å‰çš„ä¸­æ–‡äº’è”ç½‘ï¼Œæˆ‘ä»¬èŠ±é’±éƒ½çœ‹ä¸åˆ°çš„æ— åˆ å‡é«˜è´¨é‡å½±ç‰‡ï¼Œjellyfinå¯ä»¥ç»™æˆ‘ä»¬ï¼Œè€Œä¸”ä¸éœ€è¦ä¼šå‘˜ã€‚Jellyfinæ˜¯å…è´¹æ— å¹¿å‘Šçš„ï¼Œåœ¨å®¶ä¸­ï¼Œå¯ä»¥èµ°å±€åŸŸç½‘è§‚çœ‹é«˜è´¨é‡èµ„æºï¼Œç¦»å®¶ï¼Œä¹Ÿèƒ½ç»§ç»­ä¸Šæ¬¡çš„è¿›åº¦ï¼Œçœ‹åˆ°èŠ‚çœæµé‡çš„å½±è§†ç‰ˆæœ¬ã€‚

ðŸŒˆCurrently, in the Chinese internet, we can't see uncut high-quality films even if we pay for them, but jellyfin can provide them for us, and no membership is required, Jellyfin is free and ad-free, At home , you can watch higt-quality resources on the LAN, When you leave home , you can continue from where you left off and see the film and television version the saves traffice






